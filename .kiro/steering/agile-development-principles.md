---
inclusion: always
---

# アジャイル開発原則（真のアジャイルアプローチ）

## 🎯 基本原則（2025 年 8 月 11 日制定）

**品質を保ちながら動く価値を早期提供し、短いフィードバックサイクルで継続的に改善する**

### 背景・制定理由

- **問題認識**: ウォーターフォール的な基盤構築アプローチでは、エンドユーザー価値の検証が遅れる
- **根本原因**: 品質 vs 速度の誤った対立構造。実際は品質が高いほどスピードが上がる
- **解決方針**: 垂直スライス開発により、動く価値の早期提供とフィードバック収集を実現

## 🚫 避けるべきウォーターフォール的アプローチ

### ❌ 水平レイヤー開発（従来型）

```
Phase 1: データ層の完全実装
Phase 2: ビジネス層の完全実装
Phase 3: UI層の完全実装
Phase 4: 統合・テスト
```

**問題点**:

- エンドユーザー価値の検証が最後
- フィードバックループの欠如
- 基盤完成を待つ長期間の価値提供なし

### ❌ 基盤完成待ちアプローチ

```
「データベース設計が完了してから機能実装を開始」
「全ての共通モジュールが完成してから個別機能開発」
「インフラが完全に整ってからアプリケーション開発」
```

**問題点**:

- 長期間の価値提供なし
- 統合時の予期しない問題発見
- ユーザーフィードバックの遅延

## ✅ 真のアジャイルアプローチ

### 1. 垂直スライス開発

**現在**: 水平レイヤー（データ層 → ビジネス層 →UI 層）
**提案**: 垂直機能（問題生成 →Teams 投稿 → 回答収集の完全フロー）

```
Iteration 1: 最小完全フロー
├── 問題生成（基本実装）
├── Teams投稿（手動でも可）
├── 回答収集（基本実装）
└── 動作確認・フィードバック収集

Iteration 2: 品質向上
├── AI生成問題の高度化
├── 自動投稿機能
├── 統計分析機能
└── ユーザーフィードバック反映

Iteration 3: スケール対応
├── 高負荷対応
├── 多様な問題生成
├── 高度な分析機能
└── 運用最適化
```

### 2. 継続的価値検証

**各イテレーション**:

1. **動く機能の実装**: 小さくても完全に動作する機能
2. **実際のユーザーでの動作確認**: 本番環境または本番相当環境での検証
3. **フィードバック収集**: 実際のユーザーからの意見・要望・問題点
4. **次イテレーションへの反映**: フィードバックに基づく優先順位調整

### 3. 品質を保つ仕組み

**品質基準の維持**:

- 現在の品質基準維持（100%テスト通過、型チェック等）
- CI/CD パイプラインによる自動品質チェック
- 小さなコミットによる早期問題発見

**品質向上の仕組み**:

- エラー透明化による問題の早期発見
- 継続的リファクタリング
- 技術的負債の即座解決

## 📋 実装ガイドライン

### イテレーション計画の原則

#### 1. 価値優先の機能選択

**優先順位**:

1. **エンドユーザー価値**: 実際に使われる機能
2. **フィードバック収集**: 改善に必要な情報取得
3. **技術的基盤**: 価値提供に必要な最小限の基盤

**例**:

```
✅ 優先: 「実際にTeamsに問題が投稿される」
❌ 後回し: 「完璧なキャッシュシステム」
```

#### 2. 完全フローの実装

**各イテレーションで**:

- 入力から出力まで完全に動作する
- 手動操作があっても構わない
- ユーザーが実際に体験できる

**例**:

```
Iteration 1: 手動問題生成 → 手動Teams投稿 → 手動回答収集
Iteration 2: 自動問題生成 → 自動Teams投稿 → 自動回答収集
Iteration 3: 高品質問題生成 → 高度な投稿機能 → 詳細分析
```

#### 3. フィードバック駆動改善

**フィードバック収集方法**:

- 実際のユーザーでの動作確認
- 組織メンバーからの意見収集
- 使用状況の分析
- 問題点の特定

**改善反映**:

- 次イテレーションの優先順位調整
- 機能の追加・修正・削除
- アーキテクチャの見直し

### タスク設計の原則

#### 1. 垂直スライスタスク

**従来型（水平）**:

```
- [ ] データモデル実装
- [ ] リポジトリ実装
- [ ] サービス実装
- [ ] API実装
```

**アジャイル型（垂直）**:

```
- [ ] 問題生成完全フロー実装
  - 問題生成API → Teams投稿 → 回答収集 → 結果表示
- [ ] 品質管理完全フロー実装
  - 品質検証 → 再生成 → 承認 → 配信
```

#### 2. 動作確認必須

**各タスク完了基準**:

- 技術的な実装完了
- **実際の動作確認**（手動でも可）
- **ユーザー体験の確認**
- フィードバック収集

#### 3. 小さなイテレーション

**タスクサイズ**:

- 1-2 週間で完了可能
- 独立して価値を提供
- フィードバック収集が可能

## 🔄 開発サイクル

### 短期フィードバックループ（1-2 週間）

1. **計画**: ユーザー価値に基づく機能選択
2. **実装**: 垂直スライスでの完全フロー実装
3. **動作確認**: 実際のユーザー環境での検証
4. **フィードバック収集**: ユーザーからの意見・要望
5. **評価・改善**: 次イテレーションの計画調整

### 品質保証の継続

**各イテレーション**:

- 品質チェック 100%通過必須
- 技術的負債の即座解決
- リファクタリングの継続実施

## 🚫 禁止事項

### ウォーターフォール的アプローチの禁止

- **基盤完成待ち**: 全基盤完成を待ってからの機能実装は禁止
- **水平レイヤー開発**: データ層 → ビジネス層 →UI 層の順次開発は禁止
- **長期フィードバック**: 動く価値の提供を遅らせるアプローチは禁止

### 品質妥協の禁止

- **「動けば良い」思考**: 品質を犠牲にした短期実装は禁止
- **技術的負債の蓄積**: 後回しにする技術的負債は禁止
- **テスト品質の妥協**: テストコードの品質低下は禁止

### エラー隠蔽の禁止

- **フォールバック依存**: エラーを隠すフォールバック機能は禁止
- **問題の先送り**: 根本原因の解決を避ける対症療法は禁止
- **透明性の欠如**: エラーや問題を隠蔽する実装は禁止

## ✅ 成功基準

### プロダクトレベル

- **動く価値の早期提供**: 各イテレーションで実際に使える機能
- **継続的フィードバック**: ユーザーからの定期的な意見収集
- **品質基準の維持**: 全品質メトリクス 100%達成継続

### 開発プロセスレベル

- **短期サイクル**: 1-2 週間での価値提供
- **垂直スライス**: 完全フローでの機能実装
- **継続的改善**: フィードバックに基づく品質向上

### チームレベル

- **透明性の確保**: エラーや問題の明確な共有
- **学習効果の最大化**: 正確な知識の提供
- **開発効率の向上**: 品質向上によるスピードアップ

## 📖 参考情報

### 関連ドキュメント

- **コア価値優先**: `.kiro/steering/core-value-first-approach.md`
- **タスク管理**: `.kiro/steering/task-management-standards.md`
- **品質管理**: `.kiro/steering/development-environment-standards.md`

### 実装例

- **タスク 6**: 問題生成 →Teams 投稿の完全フロー実装（垂直スライス第 1 イテレーション）
- **タスク 7**: 回答収集 → 統計表示の完全フロー実装（垂直スライス第 2 イテレーション）
- **タスク 8**: 自動スケジュール実行の完全フロー実装（垂直スライス第 3 イテレーション）
- **タスク 9**: 高品質問題生成の完全フロー実装（垂直スライス第 4 イテレーション）

---

**制定日**: 2025 年 8 月 11 日
**適用開始**: タスク 6「問題生成 →Teams 投稿の完全フロー実装（垂直スライス第 1 イテレーション）」から
**更新履歴**: 初版制定（タスク 5 での学習を反映）
